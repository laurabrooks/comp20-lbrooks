<!DOCTYPE html>

<html>

<head>
	<title>Marauder's Map</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<!-- Somehow I need to link to API??....or maybe the next line does that -->
	<script src="http://maps.google.com/maps/api/js?sensor=true"></script>
	<link rel="stylesheet" href="mmap_style.css" />

	<script>
	var myLat = 0;
	var myLng = 0;
	var request = new XMLHttpRequest();
	var me = new google.maps.LatLng(myLat, myLng);
	var mapOptions = {
		center: me,
		zoom: 10
	}

	function init() {
		console.log("in init");
		map = new google.maps.LatLng(document.getElementById("mmap_canvas"), mapOptions);
		getMyLocation();
	}

	function getMyLocation() {
		console.log("in getMyLocation");
		if (navigator.geolocation) { 
			console.log("in if statement in getMyLocation");
			navigator.geolocation.getCurrentPosition(function(position) {
				myLat = position.coords.latitude;
				myLng = position.coords.longitude;
				console.log(myLat, myLng);
				renderMap();
			});
		}
		else {
			alert("Sorry! Geolocation is not supported in your browser.");
		}
	}


	function renderMap() {
		console.log("in renderMap");
		me = new google.maps.LatLng(myLat, myLng);
		map.panTo(me);
		//taken from google developers tutorial
		myMarker = new google.maps.Marker({
			position: me,
			map: map,
			title: "Cheri Vasquez",
		});
		myMarker.setMap(map);
	}

	</script>
</head>

<body onload="init()">
	<div id="mmap_canvas">
	</div>
</body>
</html>
